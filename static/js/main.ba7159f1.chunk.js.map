{"version":3,"sources":["assets/images/icons/android-chrome-512x512.png","components/SmallHeader/SmallHeader.js","components/HomeHeader/HomeHeader.js","components/Lottie/Lottie.js","components/Toast/Toast.js","components/PhotoStats/PhotoStats.js","components/PhotoComponent/PhotoComponent.js","components/Hero/Hero.js","components/Loader/Loader.js","components/SmallHeader2/SmallHeader2.js","components/UserHeader/UserHeader.js","components/CategoryHeader/CategoryHeader.js","pages/Home/Home.js","pages/Signup/Signup.js","pages/Login/Login.js","pages/Category/Category.js","pages/ErrorPage/ErrorPage.js","components/UserBanner/UserBanner.js","pages/IndividualUser/IndividualUser.js","pages/User/User.js","components/ProfileToggle/ProfileToggle.js","components/UpdataProfileForm/UpdateProfileForm.js","components/ProfileBanner/ProfileBanner.js","pages/Profile/Profile.js","components/Comment/Comment.js","components/CommentsBar/CommentsBar.js","components/SinglePhoto/SinglePhoto.js","pages/SinglePhotoPage/SinglePhotoPage.js","pages/Search/Search.js","App.js","serviceWorker.js","webpack:///./src/index.js?b635"],"names":["module","exports","Modal","handleClose","show","history","useState","query","setQuery","showHideClassName","historyObj","className","onClick","id","required","onChange","e","target","value","name","preventDefault","push","SmallHeader","props","listenToScroll","scrolled","document","body","scrollTop","documentElement","scrollHeight","clientHeight","setState","scrollPosition","showModal","hideModal","handleInputChange","event","state","showNav","bind","window","addEventListener","this","removeEventListener","MenuBar","to","src","logo","alt","useHistory","handleQuery","React","Component","HomeHeader","initialScroll","listenResize","width","innerWidth","console","log","LottieComponent","direction","play","options","loop","animationData","animation","Toast","isShown","timer","setTimeout","clearTimeout","message","PhotoStats","photo","comments","likes","_id","Fragment","length","RenderPhotos","setStorage","localStorage","setItem","JSON","stringify","incrementLikes","showToast","parse","getItem","includes","url","fetch","method","headers","then","response","json","data","updateLikes","playLottie","updatePhotos","addToFavorites","catch","error","userId","sessionStorage","author","deletePhoto","token","getAuthorPhotos","unlikePhoto","authorId","getLikedPhotos","actionTaken","RenderDescription","description","profile","isLiked","tags","data-id","height","imageUrl","category","userImage","firstName","lastName","Photo","photos","photoCollection","map","key","reRenderPhotos","updateHome","updateLikedPhotos","Hero","Loader","SmallHeader2","openPhotoModal","addPhoto","closePhotoModal","logoutUser","clear","loggedOut","renderRedirect","uploadImage","closeModal","AddPhotoModal","openWidget","cloudinary","createUploadWidget","cloudName","uploadPreset","result","info","open","change","updateTags","tag","handleFormSubmit","a","success","removeItem","textContent","index","indexOf","slice","concat","RenderImage","RenderTags","onSubmit","htmlFor","rows","placeholder","cols","disabled","UserHeader","updateAuthorPhotos","type","CategoryHeader","Home","isLoading","getPhotos","res","err","in","delay","exitOpacity","timingFn","duration","Signup","setSession","username","password","images","setInterval","clearInterval","divStyle","backgroundImage","transition","style","minLength","maxLength","errMess","Category","fetchPhotos","ErrorPage","UserBanner","createdAt","moment","Date","format","IndividualUser","getAuthorInfo","User","ProfileToggle","renderPhotos","toggle","togglePosted","toggleLiked","happy","UpdateProfileForm","updatedPhoto","handleSubmit","bio","closeForm","updateAuthorInfo","renderImage","showForm","updatedInfo","renderForm","RenderBio","Profile","showLiked","showPosted","photoDeleted","update","toggleFavorites","prevProps","Comment","comment","dislikes","text","liked","disliked","handleLike","handleDislike","decrementLikes","decrementDislikes","incrementDislikes","photoId","updateData","fromNow","CommentsBar","getComments","commentsData","postComment","RenderComments","SinglePhoto","goBack","getPhoto","withRouter","SinglePhotoPage","Search","location","searchQuery","App","categories","basename","exact","path","component","match","params","Login","profileId","Boolean","hostname","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ba7159f1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/android-chrome-512x512.ed59d81f.png\";","import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport logo from '../../assets/images/icons/android-chrome-512x512.png'\r\nimport './SmallHeader.scss';\r\n\r\nconst Modal = ({ handleClose, show, history }) => {\r\n    const [query, setQuery] = useState('')  \r\n    const showHideClassName = show ? 'searchbar' : 'searchbar hideSearchBar';\r\n    const historyObj = history();\r\n  \r\n      function submitForm(e) {\r\n        e.preventDefault();\r\n        if(query) historyObj.push('/search/' + query);\r\n      }\r\n        return (\r\n        <div className={showHideClassName}>\r\n          <div onClick={handleClose} className=\"closeBar\"><i className=\"far fa-times-circle\"></i></div>\r\n          <form id=\"searchForm\">\r\n              <input required onChange={e => setQuery(e.target.value)} name=\"query\" id=\"searchTags\" />\r\n              <button id=\"submitSearch\" onClick={submitForm}>\r\n                <i className=\"fas fa-search\"></i> Search\r\n              </button>\r\n          </form>\r\n        </div>\r\n      );\r\n  }; \r\n\r\nclass SmallHeader extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            scrollPosition: 0,\r\n            showNav: false,\r\n        }\r\n        this.showNav = this.showNav.bind(this)\r\n    }\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.listenToScroll)\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.listenToScroll)\r\n    }\r\n      \r\n    listenToScroll = () => {\r\n        const winScroll =\r\n            document.body.scrollTop || document.documentElement.scrollTop\r\n        \r\n        const height =\r\n            document.documentElement.scrollHeight -\r\n            document.documentElement.clientHeight\r\n        \r\n        const scrolled = winScroll / height\r\n        this.setState({\r\n            scrollPosition: scrolled,\r\n        })\r\n    }\r\n\r\n    showNav() {\r\n        this.setState({ showNav: !this.state.showNav })\r\n    }\r\n\r\n    showModal = () => {\r\n        this.setState({ show: true });\r\n    }\r\n      \r\n    hideModal = () => {\r\n        this.setState({ show: false });\r\n    }\r\n    \r\n    handleQuery(e) {\r\n        e.preventDefault();\r\n        \r\n    }\r\n\r\n    handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    \r\n\r\n    render () {\r\n        function MenuBar(props) {    \r\n            return (\r\n                <div className={props.scrollPosition > 0.05 ? \"menuShort\" : \"menu\"}>\r\n                    <ul>\r\n                        <li onClick={props.showModal} className=\"searchButton\"><i className=\"fas fa-search\"></i>Search</li>\r\n                        <Link to=\"/\" className=\"searchButton\"><li><i className=\"fas fa-home\"></i>Home</li></Link>\r\n                        <Link to=\"/signup\"><li className=\"formButton\"><i className=\"fas fa-user\"></i>Join</li></Link>\r\n                        <Link to=\"/login\"><li className=\"formButton\"><i className=\"fas fa-sign-in-alt\"></i>Login</li></Link>\r\n                    </ul>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                <header className=\"header\">\r\n                    <Link to=\"/\"><img className=\"logo\" src={logo} alt=\"\" /><h1>Pixel Images</h1></Link>\r\n                    <div className=\"mobileHeader\">\r\n                        <i onClick={this.showNav} className=\"fas fa-chevron-down\"></i>\r\n                    </div>\r\n                </header>\r\n                <Modal history={useHistory} show={this.state.show} handleInputChange={this.handleInputChange.bind(this)} handleQuery={this.handleQuery} handleClose={this.hideModal} /> \r\n                {this.state.showNav ? <MenuBar showModal={this.showModal} scrollPosition={this.state.scrollPosition} /> : null}\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default SmallHeader;\r\n","import React, { Component, useState } from 'react';\r\nimport { Link, useHistory  } from 'react-router-dom';\r\nimport SmallHeader from '../SmallHeader/SmallHeader';\r\nimport logo from '../../assets/images/icons/android-chrome-512x512.png'\r\nimport './HomeHeader.scss';\r\n\r\nclass HomeHeader extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            show: false,\r\n            scrollPosition: 0,\r\n            query: '',\r\n            initialScroll: false,\r\n            width: window.innerWidth,\r\n        };\r\n    }\r\n\r\n    listenToScroll = () => {\r\n      const winScroll =\r\n        document.body.scrollTop || document.documentElement.scrollTop\r\n      const height =\r\n        document.documentElement.scrollHeight -\r\n        document.documentElement.clientHeight\r\n\r\n      const scrolled = winScroll / height\r\n      this.setState({\r\n        scrollPosition: scrolled, initialScroll: true\r\n      })\r\n    }\r\n    \r\n    showModal = () => {\r\n        this.setState({ show: true });\r\n    }\r\n    \r\n    hideModal = () => {\r\n      this.setState({ show: false });\r\n    }\r\n\r\n    componentDidMount() {\r\n      window.addEventListener('scroll', this.listenToScroll)\r\n      window.addEventListener('resize', this.listenResize);\r\n    }\r\n      \r\n      componentWillUnmount() {\r\n      window.removeEventListener('scroll', this.listenToScroll)\r\n      window.removeEventListener('resize', this.listenResize);\r\n  \r\n    }\r\n\r\n    handleQuery(e) {\r\n      e.preventDefault();\r\n      console.log(this.state.query)\r\n      \r\n    }\r\n\r\n    listenResize = () => {\r\n        this.setState({width: window.innerWidth})\r\n    }\r\n\r\n    handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    render() {\r\n        if (this.state.width > 800) {\r\n\r\n          return (\r\n            <div>\r\n                <header className=\"header\">\r\n                    <Link to=\"/\"><img className=\"logo\" src={logo} alt=\"\" /><h1>Pixel Images</h1></Link>\r\n                    <div className=\"tools\">\r\n                        <div onClick={this.showModal} className=\"searchButton\"><i className=\"fas fa-search\"></i>Search</div>\r\n                        <div className=\"formButton\"><button><Link to=\"/signup\"><i className=\"fas fa-user\"></i>Join</Link></button></div>\r\n                        <div className=\"formButton\"><button><Link to=\"/login\"><i className=\"fas fa-sign-in-alt\"></i>Login</Link></button></div>\r\n\r\n                    </div>\r\n                </header>\r\n                <Modal history={useHistory} show={this.state.show} handleInputChange={this.handleInputChange.bind(this)} handleQuery={this.handleQuery} handleClose={this.hideModal} />\r\n            </div>\r\n          )\r\n        } else {\r\n          return (\r\n            <SmallHeader />\r\n          )\r\n        }\r\n    }\r\n}\r\n\r\nconst Modal = ({ handleClose, show, history }) => {\r\n  const [query, setQuery] = useState('')  \r\n  const showHideClassName = show ? 'searchbar' : 'searchbar hideSearchBar';\r\n  const historyObj = history();\r\n\r\n    function submitForm(e) {\r\n      e.preventDefault();\r\n      console.log(query)\r\n      console.log(historyObj)\r\n      if(query) historyObj.push('/search/' + query);\r\n    }\r\n      return (\r\n      <div className={showHideClassName}>\r\n        <div onClick={handleClose} className=\"closeBar\"><i className=\"far fa-times-circle\"></i></div>\r\n        <form id=\"searchForm\">\r\n            <input required onChange={e => setQuery(e.target.value)} name=\"query\" id=\"searchTags\" />\r\n            <button id=\"submitSearch\" onClick={submitForm}>\r\n              <i className=\"fas fa-search\"></i> Search\r\n            </button>\r\n        </form>\r\n      </div>\r\n    );\r\n}; \r\n\r\nexport default HomeHeader;","import React from 'react';\r\nimport Lottie from 'lottie-react-web';\r\nimport animation from '../../assets/images/heart.json';\r\nimport './Lottie.scss';\r\n\r\nfunction LottieComponent (props) {\r\n    return (\r\n            <div className=\"lottieContainer\">\r\n                <Lottie\r\n                    direction={props.play ? 1 : -1}\r\n                    options={{\r\n                    loop: false,\r\n                    animationData: animation\r\n                    }}\r\n                />\r\n            </div>\r\n        )\r\n}\r\n  \r\n\r\nexport default LottieComponent;\r\n\r\n","import React from 'react';\r\nimport './Toast.scss';\r\n\r\nclass Toast extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isShown: false,\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.setState({ isShown: true })\r\n        this.timer = setTimeout(() => {\r\n            this.setState({ isShown: false })\r\n        }, 3000)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearTimeout(this.timer)\r\n    }\r\n\r\n    render() {\r\n        if (this.state.isShown) {\r\n            return(\r\n                <div className=\"toast\">\r\n                    <h3>{this.props.message}</h3>\r\n                </div>\r\n            )\r\n        } else {\r\n            return <div></div>\r\n        }\r\n    }\r\n}\r\n\r\nexport default Toast;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './PhotoStats.scss';\r\n\r\nclass PhotoStats extends Component {\r\n    render() {\r\n        const { comments, likes, _id} = this.props.photo;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Link className=\"viewLink\" to={`/photo/${_id}`}>View</Link>\r\n                <div id=\"stats\">\r\n                    <div className=\"statText\">\r\n                        <div className=\"stats\">\r\n                            <div className=\"likes\"><p>Comments: <em>{comments.length}</em><i className=\"far fa-comments\"></i></p></div>\r\n                            <div className=\"likes\"><p>Likes: <em>{likes}</em><i className=\"far fa-heart\"></i></p></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PhotoStats\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Lottie from '../Lottie/Lottie';\r\nimport Toast from '../Toast/Toast';\r\nimport PhotoStats from '../PhotoStats/PhotoStats';\r\nimport './PhotoComponent.scss';\r\n\r\nclass RenderPhotos extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            show: false,\r\n            url: 'https://quiet-ravine-27369.herokuapp.com',\r\n            playLottie: false,\r\n            showToast: false,\r\n            actionTaken: false,\r\n        }\r\n    }\r\n\r\n    setStorage = (id) => {\r\n        window.localStorage.setItem('likedPhotos', JSON.stringify([id]))\r\n    }\r\n\r\n    incrementLikes = (id) => {\r\n        this.setState({ showToast: false })\r\n        const storageData = JSON.parse(window.localStorage.getItem('likedPhotos')) || '';\r\n        if(!storageData.includes(id)) {\r\n            const url = this.state.url + `/photos/${id}`;\r\n            fetch(url, {\r\n            method: 'PUT', \r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\"_id\": id})\r\n            })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                this.setStorage(id); \r\n                this.setState({updateLikes: true, playLottie: true})\r\n                this.props.updatePhotos();\r\n                this.addToFavorites(id)\r\n            })\r\n            .catch((error) => {\r\n            console.error('Error:', error);\r\n            });\r\n        } else {\r\n            this.setState({ showToast: true })\r\n        }\r\n    }\r\n\r\n    addToFavorites = (id) => {\r\n        const userId = window.sessionStorage.getItem('authorId');\r\n        const url = this.state.url + `/users/${userId}/favorites`;\r\n        if (userId) {\r\n            if (userId !== this.props.photo.author[0]._id) {\r\n                fetch(url, {\r\n                    method: 'POST', \r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    body: JSON.stringify({\"_id\": id})\r\n                    })\r\n                    .then((response) => response.json())\r\n                    .then((data) => {\r\n                    })\r\n                    .catch((error) => {\r\n                    console.error('Error:', error);\r\n                    });\r\n            } else {\r\n                console.log(\"You cannot add your own photos to favorites\")\r\n            }\r\n        } else {\r\n            console.log('You are not logged in')\r\n        }\r\n        \r\n    }\r\n\r\n    showModal = () => {\r\n        this.setState({ show: true });\r\n    }\r\n      \r\n    hideModal = () => {\r\n        this.setState({ show: false });\r\n    }\r\n\r\n    deletePhoto = (id) => {\r\n        const url = this.state.url + '/photos/' + id;\r\n        const token = window.sessionStorage.getItem('token');\r\n        fetch(url, {\r\n            method: 'DELETE', \r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`,\r\n                'Access-Control-Allow-Origin': '*'\r\n            }\r\n            })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                this.props.getAuthorPhotos();\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error:', error);\r\n            });\r\n        \r\n    }\r\n\r\n    unlikePhoto = (id) => {\r\n        const authorId = window.sessionStorage.getItem('authorId');\r\n        const url = this.state.url + '/users/' + authorId + '/favorites/' + id;\r\n        const token = window.sessionStorage.getItem('token');\r\n        fetch(url, {\r\n            method: 'DELETE', \r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`,\r\n                'Access-Control-Allow-Origin': '*'\r\n            }\r\n            })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                this.props.getLikedPhotos();\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error:', error);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const RenderDescription = () => {\r\n            return (\r\n                <div className=\"view\">\r\n                    <p>{this.props.photo.description}</p>\r\n                </div>\r\n            )\r\n        }\r\n       \r\n        if(this.props.photo) {\r\n                if(this.props.profile) {\r\n                    if(this.props.isLiked) {\r\n                        return (\r\n                            <React.Fragment>\r\n                                {this.state.showToast ? <Toast message=\"You already liked this photo\" /> : null}\r\n                                <Link className=\"link\" to={`/photo/${this.props.photo._id}`}>\r\n                                    <img onClick={this.showModal} alt={this.props.photo.tags[0]} data-id={this.props.photo._id} className=\"image\" width=\"200\" height=\"200\" src={this.props.photo.imageUrl} />\r\n                                </Link>\r\n                                <div className=\"category\">\r\n                                    <div onClick={this.unlikePhoto.bind(null, this.props.photo._id)} className=\"delete\"><i className=\"far fa-heart\"></i><p>Remove from Favorites</p></div> :\r\n                                </div>\r\n                            </React.Fragment>\r\n                        )\r\n                    } else {\r\n                        return (\r\n                            <React.Fragment>\r\n                                {this.state.showToast ? <Toast message=\"You already liked this photo\" /> : null}\r\n                                <Link className=\"link\" to={`/photo/${this.props.photo._id}`}>\r\n                                    <img onClick={this.showModal} alt={this.props.photo.tags[0]} data-id={this.props.photo._id} className=\"image\" width=\"200\" height=\"200\" src={this.props.photo.imageUrl} />\r\n                                </Link>\r\n                                <div className=\"category\">\r\n                                    <div onClick={this.deletePhoto.bind(null, this.props.photo._id)} className=\"delete\"><i className=\"fas fa-trash-alt\"></i><p>Remove Photo</p></div> \r\n                                </div>\r\n                                <PhotoStats photo={this.props.photo} />\r\n                            </React.Fragment>\r\n                            )\r\n                        }\r\n                } else {\r\n                    return (\r\n                        <React.Fragment>\r\n                            {this.state.showToast ? <Toast message=\"You already liked this photo\" /> : null}\r\n                            <Link to={`/photo/${this.props.photo._id}`}>\r\n                                {this.props.photo.description ? <RenderDescription /> : null}\r\n                                <img alt={this.props.photo.tags[0]} data-id={this.props.photo._id} className=\"image\" width=\"200\" height=\"200\" src={this.props.photo.imageUrl} />\r\n                            </Link>\r\n                                <div className=\"category\">\r\n                                    <p>{this.props.photo.category}</p>\r\n                                    <div className=\"stats\">\r\n                                        <div className=\"likes\"><p>{this.props.photo.comments.length}</p><Link to={`/photo/${this.props.photo._id}`} ><i className=\"far fa-comments\"></i></Link></div>\r\n                                        <div onClick={this.incrementLikes.bind(null, this.props.photo._id)} className=\"likes\"><p>{this.props.photo.likes}</p><i className=\"far fa-heart\"></i></div>\r\n                                    </div>\r\n                                </div>\r\n                            <Link to={`/author/${this.props.photo.author[0]._id}`} >\r\n                                <div className=\"author\">\r\n                                    <Lottie play={this.state.playLottie}/>\r\n                                    <img alt=\"\" src={this.props.photo.author[0].userImage}/>\r\n                                    <p>{this.props.photo.author[0].firstName} {this.props.photo.author[0].lastName}</p>\r\n                                </div>\r\n                            </Link>\r\n                        </React.Fragment>\r\n                        )\r\n                }\r\n        } else {\r\n            return (\r\n                <div className=\"error\">\r\n                    <p>Oops, We couldn't find any photos</p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\nclass Photo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            photos: this.props.photos,\r\n        }\r\n    }\r\n\r\n        render() {\r\n            if (this.props.photos.length > 0) {\r\n                const photoCollection = this.props.photos.map(photo => {\r\n                    return (\r\n                        <div key={photo._id} className=\"photo\" >\r\n                            <RenderPhotos \r\n                                isLiked={this.props.isLiked} \r\n                                profile={this.props.profile} \r\n                                getAuthorPhotos={this.props.getAuthorPhotos}\r\n                                reRenderPhotos={this.props.reRenderPhotos} \r\n                                updatePhotos={this.props.updatePhotos} \r\n                                updateHome={this.props.updateHome} \r\n                                key={photo._id} \r\n                                getLikedPhotos={this.props.getLikedPhotos}\r\n                                unlikePhoto={this.props.updateLikedPhotos}\r\n                                photo={photo} />\r\n                        </div>\r\n                    )\r\n                });\r\n                if(this.props.photos.length < 10) {\r\n                    return (\r\n                        <div className=\"smallPhotoContainer\">\r\n                            {photoCollection}\r\n                        </div>\r\n                    )\r\n                } else {\r\n                    return (\r\n                        <div className=\"photoContainer\">\r\n                            {photoCollection}\r\n                        </div>\r\n    \r\n                    )\r\n                }\r\n \r\n            } else {\r\n                return (\r\n                    <div className=\"error\">\r\n                        <p>Sorry, we couldn't find any photos</p>\r\n                    </div>\r\n                )\r\n            }\r\n               \r\n    }\r\n};\r\n\r\nexport default Photo;\r\n","import React, { Component } from 'react';\r\nimport './Hero.scss';\r\n\r\nexport default class Hero extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"hero\">\r\n                <img src=\"https://images.unsplash.com/photo-1490822239899-bc196b6f19f6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2176&q=80\" alt=\"\" />                \r\n                <div className=\"categories\">\r\n                    \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport './Loader.scss';\r\n\r\nfunction Loader() {\r\n    return (\r\n        <div className=\"loader\">\r\n            <p>Loading...</p>\r\n            <i className=\"fas fa-spin fa-circle-notch\"></i>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader;","import React, { useState } from 'react';\r\nimport { Link, Redirect, useHistory } from 'react-router-dom';\r\nimport Toast from '../Toast/Toast';\r\nimport logo from '../../assets/images/icons/android-chrome-512x512.png'\r\nimport './SmallHeader2.scss';\r\n\r\nconst Modal = ({ handleClose, show, history }) => {\r\n    const [query, setQuery] = useState('')  \r\n    const showHideClassName = show ? 'searchbar' : 'searchbar hideSearchBar';\r\n    const historyObj = history();\r\n  \r\n      function submitForm(e) {\r\n        e.preventDefault();\r\n        if(query) historyObj.push('/search/' + query);\r\n      }\r\n        return (\r\n        <div className={showHideClassName}>\r\n          <div onClick={handleClose} className=\"closeBar\"><i className=\"far fa-times-circle\"></i></div>\r\n          <form id=\"searchForm\">\r\n              <input required onChange={e => setQuery(e.target.value)} name=\"query\" id=\"searchTags\" />\r\n              <button id=\"submitSearch\" onClick={submitForm}>\r\n                <i className=\"fas fa-search\"></i> Search\r\n              </button>\r\n          </form>\r\n        </div>\r\n      );\r\n  }; \r\n\r\nclass SmallHeader2 extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            scrollPosition: 100,\r\n            loggedOut: false,\r\n            showNav: false,\r\n            category: '',\r\n            tags: [],\r\n            imageUrl: '',\r\n            uploadImage: false,\r\n            query: '',\r\n            url: 'https://quiet-ravine-27369.herokuapp.com',\r\n            addPhoto: false,\r\n            author: window.sessionStorage.getItem('authorId'),\r\n\r\n        }\r\n        this.showNav = this.showNav.bind(this)\r\n    }\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.listenToScroll)\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.listenToScroll)\r\n    }\r\n\r\n    openPhotoModal = () => {\r\n        this.setState({ addPhoto: true })\r\n    }\r\n\r\n    closePhotoModal = () => {\r\n        this.setState({ addPhoto: false })\r\n    }\r\n\r\n    logoutUser = (e) => {\r\n        sessionStorage.clear();\r\n        this.setState({ loggedOut: true })\r\n\r\n    }\r\n      \r\n    listenToScroll = () => {\r\n        const winScroll =\r\n            document.body.scrollTop || document.documentElement.scrollTop\r\n        \r\n        const height =\r\n            document.documentElement.scrollHeight -\r\n            document.documentElement.clientHeight\r\n        \r\n        const scrolled = winScroll / height\r\n        this.setState({\r\n            scrollPosition: scrolled,\r\n        })\r\n    }\r\n\r\n    showNav() {\r\n        this.setState({ showNav: !this.state.showNav })\r\n    }\r\n\r\n    showModal = () => {\r\n        this.setState({ show: true });\r\n    }\r\n      \r\n    hideModal = () => {\r\n        this.setState({ show: false });\r\n    }\r\n    \r\n    handleQuery(e) {\r\n        e.preventDefault();\r\n        \r\n    }\r\n\r\n    handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    renderRedirect = () => {\r\n        if (this.state.loggedOut) {\r\n            return <Redirect to='/' />\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    render () {\r\n        function MenuBar(props) {    \r\n            return (\r\n                <div className={props.scrollPosition > 0.05 ? \"menuShort\" : \"menu\"}>\r\n                    <ul>\r\n                        <li onClick={props.showModal} className=\"searchButton\"><i className=\"fas fa-search\"></i>Search</li>\r\n                        <Link to=\"/\" className=\"searchButton\"><li><i className=\"fas fa-home\"></i>Home</li></Link>\r\n                        <Link to={`/profile/${props.author}/posted`} className=\"searchButton\"><li><i className=\"fas fa-user-circle\"></i>View Profile</li></Link>\r\n                        <li onClick={props.openPhotoModal} className=\"searchButton\"><i className=\"fas fa-camera-retro\"></i>Add Photo</li>\r\n                        <li onClick={props.logoutUser} className=\"formButton\"><i className=\"fas fa-sign-out-alt\"></i>Logout</li>\r\n                    </ul>\r\n                    <AddPhotoModal show={props.addPhoto} handleClose={props.closePhotoModal} />\r\n                    {props.renderRedirect()}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                <header className=\"header\">\r\n                    <Link to=\"/\"><img className=\"logo\" src={logo} alt=\"\" /><h1>Pixel Images</h1></Link>\r\n                    <div className=\"mobileHeader\">\r\n                        <i onClick={this.showNav} className=\"fas fa-chevron-down\"></i>\r\n                    </div>\r\n                </header>\r\n                <Modal history={useHistory} show={this.state.show} handleInputChange={this.handleInputChange.bind(this)} handleQuery={this.handleQuery} handleClose={this.hideModal} /> \r\n                {this.state.showNav ? <MenuBar closePhotoModal={this.closePhotoModal} renderRedirect={this.renderRedirect} addPhoto={this.state.addPhoto} logoutUser={this.logoutUser} closeModal={this.closeModal} openPhotoModal={this.openPhotoModal} author={this.state.author} showModal={this.showModal} scrollPosition={this.state.scrollPosition} /> : null}\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default SmallHeader2;\r\n\r\nclass AddPhotoModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            category: '',\r\n            tags: [],\r\n            imageUrl: '',\r\n            description: '',\r\n            author: window.sessionStorage.getItem('authorId'),\r\n            uploadImage: false,\r\n            url: 'https://quiet-ravine-27369.herokuapp.com',\r\n            tag: '',\r\n            success: false,\r\n        };\r\n    }\r\n    openWidget = event => {\r\n        event.preventDefault();\r\n        const myWidget = window.cloudinary.createUploadWidget({\r\n            cloudName: \"dcokaa0ia\",\r\n            uploadPreset: 'pixelImages'\r\n        }, (error, result) => {\r\n            if (result.event === \"success\") {\r\n                this.setState({\r\n                    uploadImage: true,\r\n                    imageUrl: result.info.url\r\n                })\r\n            }\r\n        });\r\n        myWidget.open();\r\n    };\r\n\r\n    handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    change = event => {\r\n        this.setState({category: event.target.value});\r\n    }\r\n\r\n    updateTags = event => {\r\n        event.preventDefault();\r\n        this.setState({tags: [...this.state.tags, this.state.tag]})\r\n        this.setState({tag: ''});\r\n    }\r\n\r\n    handleFormSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const photo = {\r\n            category: this.state.category,\r\n            tags: this.state.tags,\r\n            imageUrl: this.state.imageUrl,\r\n            author: this.state.author,\r\n            description: this.state.description,\r\n        }\r\n        const token = window.sessionStorage.getItem('token');\r\n        const url = this.state.url + '/photos';\r\n        fetch(url, {\r\n            method: 'POST', \r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            },\r\n            body: JSON.stringify(photo),\r\n            })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n            })\r\n            .catch((error) => {\r\n            console.error('Error:', error);\r\n            });\r\n            this.props.handleClose();\r\n            this.setState({\r\n                category: '',\r\n                tags: [],\r\n                imageUrl: '',\r\n                description: '',\r\n                success: true\r\n            });\r\n        \r\n    };\r\n    removeItem = event => {\r\n        const value = event.target.textContent;\r\n        const index = this.state.tags.indexOf(value);\r\n        this.setState({tags: this.state.tags.slice(0, index).concat(this.state.tags.slice(index + 1, this.state.tags.length))});\r\n    }\r\n\r\n    showToast() {\r\n        return <Toast message={\"You have added a photo\"} />\r\n    }\r\n\r\n    renderRedirect = () => {\r\n        if (this.state.success) {\r\n            this.showToast()\r\n            const url = `/profile/${this.state.author}/posted`\r\n            return <Redirect to={url} />\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        \r\n        const RenderImage = () => {\r\n            return <img src={this.state.imageUrl} alt=\"\" />\r\n        };\r\n        const showHideClassName = this.props.show ? 'formModal' : 'formModal hideModal';\r\n\r\n        const RenderTags = () => {\r\n            const tags = this.state.tags.map(tag => {\r\n                return (<p onClick={this.removeItem} key={tag} className=\"smallTag\">{tag}</p>);\r\n            })\r\n            return tags;\r\n        \r\n        }\r\n            return (\r\n                <React.Fragment>\r\n                    {this.state.success ? <Toast message=\"New Image Uploaded Successfully\" /> : null}\r\n                    <div className={showHideClassName}>\r\n                        <form onSubmit={this.handleFormSubmit} id=\"addPhotoForm\">\r\n                            <h2>ADD YOUR OWN PHOTO</h2>\r\n                            <div onClick={this.props.handleClose} className=\"closeModal\"><i className=\"far fa-times-circle\"></i></div>\r\n                            <div className=\"imageSample\">\r\n                            <div className=\"formGroup\">\r\n                                \r\n                            <label>Choose an image to upload</label>\r\n                            <div onClick={this.openWidget} id=\"upload_widget\" className=\"addPhoto-button uploadButton\">\r\n                                Upload Image\r\n                            </div>\r\n                            </div>\r\n                            <div className=\"imageSampleHolder\">{this.state.uploadImage ? <RenderImage /> : ''}</div>\r\n                            </div>\r\n                            <div className=\"formGroup\">\r\n                            <label htmlFor=\"category\">Category</label>\r\n                            <select \r\n                                onChange={this.change}\r\n                                value={this.state.category}\r\n                                required \r\n                                name=\"category\"\r\n                                id=\"category\">\r\n                                <option value=\"\">Select a category...</option>\r\n                                <option value=\"architecture\">Architecture</option>\r\n                                <option value=\"animals\">Animals</option>\r\n                                <option value=\"nature\">Nature</option>\r\n                                <option value=\"aerial\">Aerial</option>\r\n                                <option value=\"food\">Food</option>\r\n                                <option value=\"portrait\">Portrait</option>\r\n                                <option value=\"fashion\">Fashion</option>\r\n                                <option value=\"activity\">Activity</option>\r\n                                <option value=\"art\">Art</option>\r\n                            </select>\r\n                            </div>\r\n                            <div className=\"formGroup\">\r\n                            <label htmlFor=\"description\">Description (optional)</label>\r\n                                <textarea \r\n                                    rows=\"4\" \r\n                                    placeholder=\"Describe your picture...\"\r\n                                    cols=\"50\" \r\n                                    name=\"description\" \r\n                                    id=\"description\" \r\n                                    onChange={this.handleInputChange} \r\n                                    value={this.state.description} />\r\n                            </div>\r\n                            <div className=\"formGroup\">\r\n                            <label htmlFor=\"tags\">Add some tags to describe your image</label>\r\n                            <div className=\"row\">\r\n                                <input \r\n                                    value={this.state.tag}\r\n                                    onChange={this.handleInputChange}\r\n                                    name=\"tag\"\r\n                                    placeholder=\"Choose or type a tag name and press enter\"\r\n                                    id=\"tagInput\" />\r\n                                <button disabled={this.state.tag ? false : true} onClick={this.updateTags} id=\"addTagButton\"><i className=\"fas fa-plus\"></i></button>\r\n                            </div>\r\n                            <div className=\"tagAnswers\"><RenderTags /></div>\r\n                            </div>\r\n                            <div className=\"formGroup\">\r\n                            <button disabled={this.state.uploadImage ? false : true}>Submit</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                    {this.renderRedirect()}\r\n                </React.Fragment>\r\n    )\r\n    }\r\n}\r\n\r\n","import React, { Component, useState } from 'react';\r\nimport { Link, Redirect, useHistory } from 'react-router-dom';\r\nimport SmallHeader2 from '../SmallHeader2/SmallHeader2';\r\nimport Toast from '../Toast/Toast';\r\nimport logo from '../../assets/images/icons/android-chrome-512x512.png'\r\nimport './UserHeader.scss';\r\n\r\nexport default class UserHeader extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            show: false,\r\n            scrollPosition: 0,\r\n            addPhoto: false,\r\n            author: window.sessionStorage.getItem('authorId'),\r\n            category: '',\r\n            tags: [],\r\n            imageUrl: '',\r\n            description: '',\r\n            uploadImage: false,\r\n            query: '',\r\n            url: 'https://quiet-ravine-27369.herokuapp.com',\r\n            loggedOut: false,\r\n            width: window.innerWidth,\r\n        };\r\n        this.logoutUser = this.logoutUser.bind(this)\r\n        this.listenToScroll = this.listenResize.bind(this);\r\n    }\r\n    showModal = () => {\r\n        this.setState({ show: true });\r\n    }\r\n    \r\n    hideModal = () => {\r\n    this.setState({ show: false });\r\n    }\r\n\r\n    openPhotoModal = () => {\r\n        this.setState({ addPhoto: true })\r\n    }\r\n\r\n    closePhotoModal = () => {\r\n    this.setState({ addPhoto: false })\r\n    }\r\n\r\n    componentDidMount() {\r\n    window.addEventListener('scroll', this.listenToScroll)\r\n    window.addEventListener('resize', this.listenResize);\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.listenToScroll)\r\n    window.removeEventListener('resize', this.listenResize);\r\n\r\n    }\r\n\r\n    listenResize = () => {\r\n        this.setState({width: window.innerWidth})\r\n    }\r\n\r\n    handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    logoutUser(e) {\r\n        console.log('hello')\r\n        sessionStorage.clear();\r\n        this.setState({loggedOut: true})\r\n\r\n    }\r\n\r\n    renderRedirect = () => {\r\n        if (this.state.loggedOut) {\r\n            return <Redirect to='/' />\r\n        }\r\n    }\r\n    \r\n    listenToScroll() {\r\n        const winScroll =\r\n          document.body.scrollTop || document.documentElement.scrollTop\r\n      \r\n        const height =\r\n          document.documentElement.scrollHeight -\r\n          document.documentElement.clientHeight\r\n      \r\n        const scrolled = winScroll / height\r\n        this.setState({\r\n          scrollPosition: scrolled\r\n        })\r\n    }\r\n    render() {\r\n        if (this.state.width > 925) {\r\n\r\n        return (\r\n            <div>\r\n                <header className=\"header\">\r\n                    <Link to=\"/\"><img className=\"logo\" src={logo} alt=\"\" /><h1>Pixel Images</h1></Link>\r\n                    <div className=\"tools\">\r\n                        <div onClick={this.showModal} className=\"searchButton\"><i className=\"fas fa-search\"></i>Search</div>\r\n                        <Link to=\"/\" className=\"searchButton\"><i className=\"fas fa-home\"></i>Home</Link>\r\n                        <Link to={`/profile/${this.state.author}/posted`} className=\"searchButton\"><i className=\"fas fa-user-circle\"></i>Profile</Link>\r\n                        <div onClick={this.openPhotoModal} className=\"searchButton\"><i className=\"fas fa-camera-retro\"></i>Add Photo</div>\r\n                        <div onClick={this.logoutUser} className=\"formButton\"><button><i className=\"fas fa-sign-out-alt\"></i>Logout</button></div>\r\n                    </div>\r\n                </header>\r\n                <Modal history={useHistory} show={this.state.show} handleInputChange={this.handleInputChange.bind(this)} handleQuery={this.handleQuery} handleClose={this.hideModal} />\r\n                <AddPhotoModal updateAuthorPhotos={this.props.updateAuthorPhotos} show={this.state.addPhoto} handleClose={this.closePhotoModal} />\r\n                {this.renderRedirect()}\r\n            </div>\r\n        )\r\n        } else {\r\n            return (\r\n                <SmallHeader2 />\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nconst Modal = ({ handleClose, show , history}) => {\r\n    const [query, setQuery] = useState('')  \r\n    const showHideClassName = show ? 'searchbar' : 'searchbar hideSearchBar';\r\n    const historyObj = history();\r\n  \r\n    function submitForm(e) {\r\n    e.preventDefault();\r\n    if(query) historyObj.push('/search/' + query);\r\n    }  \r\n    return (\r\n      <div className={showHideClassName}>\r\n        <div onClick={handleClose} className=\"closeBar\"><i className=\"far fa-times-circle\"></i></div>\r\n        <form onSubmit={submitForm} id=\"searchForm\">\r\n            <input required onChange={e => setQuery(e.target.value)} name=\"query\" id=\"searchTags\" />\r\n            <button id=\"submitSearch\" type=\"submit\">\r\n            <i className=\"fas fa-search\"></i> Search\r\n            </button>\r\n        </form>\r\n      </div>\r\n    );\r\n}; \r\n\r\n\r\nclass AddPhotoModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            category: '',\r\n            tags: [],\r\n            imageUrl: '',\r\n            description: '',\r\n            author: window.sessionStorage.getItem('authorId'),\r\n            uploadImage: false,\r\n            url: 'https://quiet-ravine-27369.herokuapp.com',\r\n            tag: '',\r\n            success: false,\r\n        };\r\n    }\r\n    openWidget = event => {\r\n        event.preventDefault();\r\n        const myWidget = window.cloudinary.createUploadWidget({\r\n            cloudName: \"dcokaa0ia\",\r\n            uploadPreset: 'pixelImages'\r\n        }, (error, result) => {\r\n            if (result.event === \"success\") {\r\n                this.setState({\r\n                    uploadImage: true,\r\n                    imageUrl: result.info.url\r\n                })\r\n            }\r\n        });\r\n        myWidget.open();\r\n    };\r\n\r\n    handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    change = event => {\r\n        this.setState({category: event.target.value});\r\n    }\r\n\r\n    updateTags = event => {\r\n        event.preventDefault();\r\n        this.setState({tags: [...this.state.tags, this.state.tag]})\r\n        this.setState({tag: ''});\r\n    }\r\n\r\n    handleFormSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const photo = {\r\n            category: this.state.category,\r\n            tags: this.state.tags,\r\n            imageUrl: this.state.imageUrl,\r\n            author: this.state.author,\r\n            description: this.state.description,\r\n        }\r\n        const token = window.sessionStorage.getItem('token');\r\n        const url = this.state.url + '/photos';\r\n        fetch(url, {\r\n            method: 'POST', \r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            },\r\n            body: JSON.stringify(photo),\r\n            })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n            })\r\n            .catch((error) => {\r\n            console.error('Error:', error);\r\n            });\r\n            this.props.handleClose();\r\n            this.setState({\r\n                category: '',\r\n                tags: [],\r\n                imageUrl: '',\r\n                description: '',\r\n                success: true\r\n            });\r\n        \r\n    };\r\n    removeItem = event => {\r\n        const value = event.target.textContent;\r\n        const index = this.state.tags.indexOf(value);\r\n        this.setState({tags: this.state.tags.slice(0, index).concat(this.state.tags.slice(index + 1, this.state.tags.length))});\r\n    }\r\n\r\n    showToast() {\r\n        return <Toast message={\"You have added a photo\"} />\r\n    }\r\n\r\n    renderRedirect = () => {\r\n        if (this.state.success) {\r\n            const url = `/profile/${this.state.author}/posted`\r\n            return <Redirect to={url} />\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        \r\n        const RenderImage = () => {\r\n            return <img src={this.state.imageUrl} alt=\"\" />\r\n        };\r\n        const showHideClassName = this.props.show ? 'formModal' : 'formModal hideModal';\r\n\r\n        const RenderTags = () => {\r\n            const tags = this.state.tags.map(tag => {\r\n                return (<p onClick={this.removeItem} key={tag} className=\"smallTag\">{tag}</p>);\r\n            })\r\n            return tags;\r\n        \r\n        }\r\n            return (\r\n                <React.Fragment>\r\n                    {this.state.success ? <Toast message=\"New Image Uploaded Successfully\" /> : null}\r\n                    <div className={showHideClassName}>\r\n                        <form onSubmit={this.handleFormSubmit} id=\"addPhotoForm\">\r\n                            <h2>ADD YOUR OWN PHOTO</h2>\r\n                            <div onClick={this.props.handleClose} className=\"closeModal\"><i className=\"far fa-times-circle\"></i></div>\r\n                            <div className=\"imageSample\">\r\n                            <div className=\"formGroup\">\r\n                                \r\n                            <label>Choose an image to upload</label>\r\n                            <div onClick={this.openWidget} id=\"upload_widget\" className=\"addPhoto-button uploadButton\">\r\n                                Upload Image\r\n                            </div>\r\n                            </div>\r\n                            <div className=\"imageSampleHolder\">{this.state.uploadImage ? <RenderImage /> : ''}</div>\r\n                            </div>\r\n                            <div className=\"formGroup\">\r\n                            <label htmlFor=\"category\">Category</label>\r\n                            <select \r\n                                onChange={this.change}\r\n                                value={this.state.category}\r\n                                required \r\n                                name=\"category\"\r\n                                id=\"category\">\r\n                                <option value=\"\">Select a category...</option>\r\n                                <option value=\"architecture\">Architecture</option>\r\n                                <option value=\"animals\">Animals</option>\r\n                                <option value=\"nature\">Nature</option>\r\n                                <option value=\"aerial\">Aerial</option>\r\n                                <option value=\"food\">Food</option>\r\n                                <option value=\"portrait\">Portrait</option>\r\n                                <option value=\"fashion\">Fashion</option>\r\n                                <option value=\"activity\">Activity</option>\r\n                                <option value=\"art\">Art</option>\r\n                            </select>\r\n                            </div>\r\n                            <div className=\"formGroup\">\r\n                            <label htmlFor=\"description\">Description (optional)</label>\r\n                                <textarea \r\n                                    rows=\"4\" \r\n                                    placeholder=\"Describe your picture...\"\r\n                                    cols=\"50\" \r\n                                    name=\"description\" \r\n                                    id=\"description\" \r\n                                    onChange={this.handleInputChange} \r\n                                    value={this.state.description} />\r\n                            </div>\r\n                            <div className=\"formGroup\">\r\n                            <label htmlFor=\"tags\">Add some tags to describe your image</label>\r\n                            <div className=\"row\">\r\n                                <input \r\n                                    value={this.state.tag}\r\n                                    onChange={this.handleInputChange}\r\n                                    name=\"tag\"\r\n                                    placeholder=\"Choose or type a tag name and press enter\"\r\n                                    id=\"tagInput\" />\r\n                                <button disabled={this.state.tag ? false : true} onClick={this.updateTags} id=\"addTagButton\"><i className=\"fas fa-plus\"></i></button>\r\n                            </div>\r\n                            <div className=\"tagAnswers\"><RenderTags /></div>\r\n                            </div>\r\n                            <div className=\"formGroup\">\r\n                            <button disabled={this.state.uploadImage ? false : true}>Submit</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                    {this.renderRedirect()}\r\n                </React.Fragment>\r\n    )\r\n    }\r\n}\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './CategoryHeader.scss';\r\n\r\nexport default class CategoryHeader extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"mainGrid\">\r\n                <Link onClick={this.props.updatePhotos} to=\"/category/architecture\" className=\"category\">\r\n                    <div className=\"heading\"><h2>Architecture</h2></div>\r\n                    <div className=\"photoGrid\">\r\n                        <div className=\"slide image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1486744328743-c1151100a95b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=934&q=80\" />\r\n                        </div>\r\n                        <div className=\"mainImage image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1486718448742-163732cd1544?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=934&q=80\" />\r\n                        </div>\r\n                        <div className=\"slide image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1506146829809-ecf5010c774f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1001&q=80\" />\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n\r\n                <Link onClick={this.props.updatePhotos} to=\"/category/animals\" className=\"category\">\r\n                    <div className=\"heading\"><h2>Animals</h2></div>\r\n                    <div className=\"photoGrid\">\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1537151608828-ea2b11777ee8?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1572363420552-058bd41af8c7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1521651201144-634f700b36ef?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n                \r\n                <Link onClick={this.props.updatePhotos} to=\"/category/food\" className=\"category\">\r\n                    <div className=\"heading\"><h2>Food</h2></div>\r\n                    <div className=\"photoGrid\">\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1482049016688-2d3e1b311543?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1484723091739-30a097e8f929?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1547&q=60\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n                \r\n                \r\n                <Link onClick={this.props.updatePhotos} to=\"/category/nature\" className=\"category\">\r\n                    <div className=\"heading\"><h2>Nature</h2></div>\r\n                    <div className=\"photoGrid\">\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1518495973542-4542c06a5843?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1439853949127-fa647821eba0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1469474968028-56623f02e42e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n                \r\n                <Link onClick={this.props.updatePhotos} to=\"/category/portrait\" className=\"category\">\r\n                    <div className=\"heading\"><h2>Portrait</h2></div>\r\n                    <div className=\"photoGrid\">\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1521119989659-a83eee488004?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n                \r\n                \r\n                <Link onClick={this.props.updatePhotos} to=\"/category/art\" className=\"category\">\r\n                    <div className=\"heading\"><h2>Art</h2></div>\r\n                    <div className=\"photoGrid\">\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1554188248-986adbb73be4?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1482160549825-59d1b23cb208?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1549887534-1541e9326642?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n                \r\n                \r\n                <Link onClick={this.props.updatePhotos} to=\"/category/fashion\" className=\"category\">\r\n                    <div className=\"heading\"><h2>Fashion</h2></div>\r\n                    <div className=\"photoGrid\">\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1509631179647-0177331693ae?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1539109136881-3be0616acf4b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1505022610485-0249ba5b3675?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n                \r\n                \r\n                <Link onClick={this.props.updatePhotos} to=\"/category/aerial\" className=\"category\">\r\n                    <div className=\"heading\"><h2>Aerial</h2></div>\r\n                    <div className=\"photoGrid\">\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1504681869696-d977211a5f4c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1465447142348-e9952c393450?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"https://images.unsplash.com/photo-1522764725576-4cbbbf12c16d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=60\" />\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n                \r\n                \r\n                <Link onClick={this.props.updatePhotos} to=\"/category/activity\" className=\"category\">\r\n                    <div className=\"heading\"><h2>Activity</h2></div>\r\n                    <div className=\"photoGrid\">\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"\" />\r\n                        </div>\r\n                        <div className=\"image\">\r\n                            <img alt=\"\" src=\"\" />\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Fade } from 'react-animation-components';\r\nimport HomeHeader from '../../components/HomeHeader/HomeHeader';\r\nimport Photo from '../../components/PhotoComponent/PhotoComponent';\r\nimport Hero from '../../components/Hero/Hero';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport UserHeader from '../../components/UserHeader/UserHeader';\r\nimport CategoryHeader from '../../components/CategoryHeader/CategoryHeader';\r\n\r\nexport default class Home extends Component {\r\n    state = {\r\n        photos: [],\r\n        updatePhotos: false,\r\n        isLoading: true,\r\n        url: \"https://quiet-ravine-27369.herokuapp.com\"\r\n    }\r\n    componentDidMount() {\r\n        this.getPhotos();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(this.state.updatePhotos) {\r\n            this.getPhotos();\r\n            this.setState({updatePhotos: false});\r\n        }\r\n    }\r\n\r\n    updatePhotos = () => {\r\n        this.setState({updatePhotos: true})\r\n    }\r\n\r\n    getPhotos = () => {\r\n        const url = this.state.url + \"/photos\"\r\n        fetch(url)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            this.setState({photos: data, isLoading: false, updatePhotos: false})\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    render() {\r\n        const token = window.sessionStorage.getItem('token');\r\n        const authorId = window.sessionStorage.getItem('authorId');\r\n\r\n        return (\r\n            <Fade\r\n                in\r\n                delay={0} \r\n                exitOpacity={0.1}\r\n                timingFn='ease-in-out' \r\n                    duration={300}>\r\n                {token && authorId ?  <UserHeader updatePhotos={this.updatePhotos} /> : <HomeHeader updatePhotos={this.updatePhotos} />}\r\n                <Hero />\r\n                <CategoryHeader />\r\n                {this.state.isLoading ? <Loader /> : <Photo updatePhotos={this.updatePhotos} photos={this.state.photos} />}\r\n            </Fade>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport { Fade } from 'react-animation-components';\r\nimport logo from '../../assets/images/icons/android-chrome-512x512.png'\r\nimport './Signup.scss';\r\n\r\n\r\nexport default class Signup extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            images: [\r\n                \"https://images.unsplash.com/photo-1584598173971-b7cc2b0a5ff3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3900&q=80\",\r\n                \"https://images.unsplash.com/photo-1575127051981-5fde99a29e1f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3104&q=80\",\r\n                \"https://images.unsplash.com/photo-1579033048983-75670547ce2b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3800&q=80\",\r\n                \"https://images.unsplash.com/photo-1526661309553-0b6c10fb4302?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2176&q=80\"\r\n            ],\r\n        index: 0,\r\n        url: \"https://quiet-ravine-27369.herokuapp.com\",\r\n        firstName: '',\r\n        lastName: '',\r\n        username: '',\r\n        password: '',\r\n        userImage: '',\r\n        uploadImage: false,\r\n        token: false,\r\n\r\n        }\r\n        \r\n    }\r\n    componentDidMount() {\r\n        // Changes background images every seven seconds\r\n        setInterval(() => {\r\n            this.setState({index: this.state.index >= this.state.images.length - 1 ? 0 : this.state.index + 1})\r\n        }, 7000);\r\n        \r\n    };\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(() => {\r\n            this.setState({index: this.state.index >= this.state.images.length - 1 ? 0 : this.state.index + 1})\r\n        }, 7000);\r\n    }\r\n    \r\n    openWidget = event => {\r\n        event.preventDefault();\r\n        const myWidget = window.cloudinary.createUploadWidget({\r\n            cloudName: \"dcokaa0ia\",\r\n            uploadPreset: 'pixelUser'\r\n        }, (error, result) => {\r\n            if (result.event === \"success\") {\r\n                this.setState({\r\n                    uploadImage: true,\r\n                    userImage: result.info.url\r\n                })\r\n            }\r\n        });\r\n        myWidget.open();\r\n    };\r\n\r\n    handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    setSession = (token, authorId) => {\r\n        window.sessionStorage.setItem('token', token);\r\n        window.sessionStorage.setItem('authorId', authorId);\r\n        this.setState({ token: true });\r\n    }\r\n    \r\n    handleFormSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const body = {\r\n            firstName: this.state.firstName,\r\n            lastName: this.state.lastName,\r\n            username: this.state.username,\r\n            userImage: this.state.uploadImage ? this.state.userImage : \"https://res.cloudinary.com/dcokaa0ia/image/upload/v1587662103/pixelUser/qjwzgivfrr8sx6szynso.png\",\r\n            password: this.state.password,\r\n        }\r\n        console.log(body)\r\n        const url = this.state.url + '/users/signup'\r\n        fetch(url, {\r\n            method: 'POST', \r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Access-Control-Allow-Origin': '*'\r\n            },\r\n            body: JSON.stringify(body),\r\n            })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n            console.log('Success:', data);\r\n            this.setState({\r\n                firstName: '',\r\n                lastName: '',\r\n                username: '',\r\n                userImage: '',\r\n                password: '',\r\n            });\r\n            this.setSession(data.token, data.userId); \r\n            })\r\n            .catch((error) => {\r\n            console.error('Error:', error);\r\n            });\r\n        \r\n    };\r\n\r\n    renderRedirect = () => {\r\n        if (this.state.token) {\r\n            return <Redirect to='/user' />\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        const divStyle = {\r\n            backgroundImage: 'url(' + this.state.images[this.state.index] + ')',\r\n            transition: '2000ms ease-in',\r\n          };\r\n        const RenderImage = () => {\r\n              return <img src={this.state.userImage} alt=\"\" />\r\n          };\r\n        return (\r\n            <Fade\r\n                in\r\n                delay={0} \r\n                exitOpacity={0.1}\r\n                timingFn='ease-in-out' \r\n                duration={300}>            \r\n                <div className=\"container\" style={divStyle}> \r\n                <div className=\"headerTop\">\r\n                    <div className=\"titleHeader\">\r\n                        <Link to=\"/\">\r\n                            <img src={logo} alt=\"\" />\r\n                        </Link>\r\n                        <Link to=\"/\">\r\n                            <h1>Pixel Images</h1>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n                <div className=\"redirect\">\r\n                    <p>Already have an account? <Link to=\"/login\">Log in</Link></p>\r\n                </div>\r\n                <div className=\"overlay\"></div>\r\n                <div className=\"formContainer\">\r\n                    <form onSubmit={this.handleFormSubmit} id=\"addPhotoForm\">\r\n                        <h2>CREATE AN ACCOUNT</h2>\r\n                        <div className=\"splitInputs\">\r\n                            <div className=\"formGroup\">\r\n                            <label htmlFor=\"firstName\">First Name:</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={this.state.firstName}\r\n                                onChange={this.handleInputChange}\r\n                                name=\"firstName\"\r\n                                id=\"firstName\"\r\n                                placeholder=\"First Name...\"\r\n                                required\r\n                            />\r\n                            </div>\r\n                            <div className=\"formGroup\">\r\n                            <label htmlFor=\"lastName\">Last Name:</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"lastName\"\r\n                                name=\"lastName\"\r\n                                value={this.state.lastName}\r\n                                onChange={this.handleInputChange}\r\n                                placeholder=\"Last Name...\"\r\n                                required\r\n                            />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"formGroup\">\r\n                        <label htmlFor=\"username\">Create a username:</label>\r\n                        <input \r\n                                type=\"text\"\r\n                                id=\"username\"\r\n                                name=\"username\"\r\n                                minLength=\"8\"\r\n                                value={this.state.username}\r\n                                onChange={this.handleInputChange}\r\n                                placeholder=\"Enter a username or email...\"\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div className=\"formGroup\">\r\n                        <label htmlFor=\"password\">Password:</label>\r\n                        <input \r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                name=\"password\"\r\n                                value={this.state.password}\r\n                                onChange={this.handleInputChange}\r\n                                placeholder=\"Create a password (at least 8 characters)...\"\r\n                                required\r\n                                minLength=\"8\"\r\n                                maxLength=\"20\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"imageSample\">\r\n                            <button onClick={this.openWidget} type=\"button\" className=\"addPhoto-button\">{this.state.uploadImage ? <span>Image Uploaded</span> : \"Upload User Image\"}</button>\r\n                            <div className=\"imageSampleHolder\">{this.state.uploadImage ? <RenderImage /> : ''}</div>\r\n                        </div>\r\n                        <div className=\"formGroup\">\r\n                            <button type=\"submit\">Submit</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                {this.renderRedirect()}\r\n            </div>\r\n        </Fade>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport { Fade } from 'react-animation-components';\r\nimport logo from '../../assets/images/icons/android-chrome-512x512.png'\r\nimport './Login.scss';\r\n\r\nexport default class Signup extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            images: [\r\n                \"https://images.unsplash.com/photo-1575127051981-5fde99a29e1f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3104&q=80\",\r\n                \"https://images.unsplash.com/photo-1579033048983-75670547ce2b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3800&q=80\",\r\n                \"https://images.unsplash.com/photo-1526661309553-0b6c10fb4302?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2176&q=80\",\r\n                \"https://images.unsplash.com/photo-1584598173971-b7cc2b0a5ff3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3900&q=80\"\r\n            ],\r\n        index: 0,\r\n        url: \"https://quiet-ravine-27369.herokuapp.com\",\r\n        firstName: '',\r\n        lastName: '',\r\n        username: '',\r\n        password: '',\r\n        userImage: '',\r\n        uploadImage: false,\r\n        token: false,\r\n        errMess: '',\r\n        }\r\n        \r\n    }\r\n    componentDidMount() {\r\n        // Changes background images every seven seconds\r\n        setInterval(() => {\r\n            this.setState({index: this.state.index >= this.state.images.length - 1 ? 0 : this.state.index + 1})\r\n        }, 7000);\r\n        \r\n    };\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(() => {\r\n            this.setState({index: this.state.index >= this.state.images.length - 1 ? 0 : this.state.index + 1})\r\n        }, 7000);\r\n    }\r\n\r\n    handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }; \r\n    \r\n    setSession = (token, authorId) => {\r\n        window.sessionStorage.setItem('token', token);\r\n        window.sessionStorage.setItem('authorId', authorId);\r\n        this.setState({ token: true });\r\n    }\r\n    \r\n    handleFormSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const body = {\r\n            username: this.state.username,\r\n            password: this.state.password,\r\n        }\r\n        const url = this.state.url + '/users/login'\r\n        fetch(url, {\r\n            method: 'POST', \r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Access-Control-Allow-Origin': '*'\r\n            },\r\n            body: JSON.stringify(body),\r\n            })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                this.setState({\r\n                    username: '',\r\n                    password: '',\r\n                    errMess: null\r\n                });\r\n                this.setSession(data.token, data.userId); \r\n            })\r\n            .catch((error) => {\r\n                console.error('Error:', error);\r\n            });\r\n        \r\n    };\r\n\r\n    renderRedirect = () => {\r\n        if (this.state.token) {\r\n            return <Redirect to='/user' />\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        const divStyle = {\r\n            backgroundImage: 'url(' + this.state.images[this.state.index] + ')',\r\n            transition: '2000ms ease-in',\r\n          };\r\n\r\n        return (\r\n            <Fade\r\n                in\r\n                delay={0} \r\n                exitOpacity={0.1}\r\n                timingFn='ease-in-out' \r\n                duration={300}>            \r\n                <div className=\"container\" style={divStyle}> \r\n                <div className=\"headerTop\">\r\n                        <div className=\"titleHeader\">\r\n                            <Link to=\"/\">\r\n                                <img src={logo} alt=\"\" />\r\n                            </Link>\r\n                            <Link to=\"/\">\r\n                                <h1>Pixel Images</h1>\r\n                            </Link>\r\n                        </div>\r\n                </div>\r\n                <div className=\"redirect\">\r\n                    <p>Don't have an account? <Link to=\"/signup\">Sign Up</Link></p>\r\n                </div>\r\n                <div className=\"overlay\"></div>\r\n                <div className=\"formContainer\">\r\n                    <form onSubmit={this.handleFormSubmit} id=\"addPhotoForm\">\r\n                        <h2>LOGIN TO YOUR ACCOUNT</h2>\r\n                        <div className=\"formGroup\">\r\n                        <label htmlFor=\"username\">Username:</label>\r\n                        <input \r\n                            type=\"text\"\r\n                            id=\"username\"\r\n                            name=\"username\"\r\n                            minLength=\"8\"\r\n                            value={this.state.username}\r\n                            onChange={this.handleInputChange}\r\n                            placeholder=\"Enter your username...\"\r\n                            required\r\n                        />\r\n                        </div>\r\n                        <div className=\"formGroup\">\r\n                        <label htmlFor=\"password\">Password:</label>\r\n                        <input \r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            name=\"password\"\r\n                            value={this.state.password}\r\n                            onChange={this.handleInputChange}\r\n                            placeholder=\"Enter your password...\"\r\n                            required\r\n                            minLength=\"8\"\r\n                            maxLength=\"20\"\r\n                        />\r\n                        </div>\r\n                        <div className=\"formGroup\">\r\n                            <button type=\"submit\">Submit</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                \r\n                {this.renderRedirect()}\r\n            </div>\r\n        </Fade>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Fade } from 'react-animation-components';\r\nimport HomeHeader from '../../components/HomeHeader/HomeHeader';\r\nimport Hero from '../../components/Hero/Hero';\r\nimport Photo from '../../components/PhotoComponent/PhotoComponent';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport UserHeader from '../../components/UserHeader/UserHeader';\r\nimport CategoryHeader from '../../components/CategoryHeader/CategoryHeader';\r\nimport './Category.scss';\r\n\r\nexport default class Category extends Component {\r\n    state = {\r\n        photos: [],\r\n        updatePhotos: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n       this.fetchPhotos()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(this.state.updatePhotos) {\r\n            this.fetchPhotos();\r\n        }\r\n    }\r\n\r\n    updatePhotos = () => {\r\n        this.setState({updatePhotos: true})\r\n    }\r\n\r\n    fetchPhotos = () => {\r\n        const url = `https://quiet-ravine-27369.herokuapp.com/photos/category/${this.props.category}`;\r\n        fetch(url)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n        this.setState({photos: data, updatePhotos: false})\r\n    })\r\n    .catch(err => console.log(err))\r\n    }\r\n\r\n    render() {\r\n        const token = window.sessionStorage.getItem('token');\r\n        const authorId = window.sessionStorage.getItem('authorId');\r\n\r\n        return (\r\n            <Fade\r\n                in\r\n                delay={0} \r\n                exitOpacity={0.1}\r\n                timingFn='ease-in-out' \r\n                duration={300}>\r\n                {}\r\n                {token && authorId ?  <UserHeader updatePhotos={this.updatePhotos} /> : <HomeHeader updatePhotos={this.updatePhotos} />}\r\n                <Hero />\r\n                <CategoryHeader updatePhotos={this.updatePhotos} />\r\n                {this.state.isLoading ? <Loader /> :<Photo updatePhotos={this.updatePhotos} photos={this.state.photos} />}\r\n            </Fade>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport './ErrorPage.scss';\r\n\r\nexport default function ErrorPage() {\r\n    return (\r\n        <div className=\"errorPage\">\r\n            <div className=\"overlay\"></div>\r\n            <img alt=\"\" src=\"https://images.unsplash.com/photo-1563305123-1548e19a200e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1868&q=80\" />\r\n            <div className=\"message\">\r\n                <h1>401:</h1><h1>UNAUTHORIZED</h1>\r\n                <p>ACCESS IS ALLOWED ONLY FOR REGISTERED USERS</p>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport './UserBanner.scss';\r\n\r\n\r\nclass UserBanner extends React.Component {\r\n    render() {\r\n        const { firstName, lastName, userImage, createdAt } = this.props.author;\r\n        return (\r\n            <div className=\"mainBanner\">\r\n                <div className=\"userBanner\">\r\n                    <img src={userImage} alt={`${firstName}`} />\r\n                    <div className=\"authorName\">\r\n                        <h2>{firstName} {lastName}</h2>\r\n                        <p>Joined: {moment(new Date(createdAt)).format(\"MMMM Do, YYYY\")}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserBanner;","import React from 'react';\r\nimport './IndividualUser.scss';\r\nimport { Fade } from 'react-animation-components';\r\nimport HomeHeader from '../../components/HomeHeader/HomeHeader';\r\nimport Photo from '../../components/PhotoComponent/PhotoComponent';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport Hero from '../../components/Hero/Hero';\r\nimport UserHeader from '../../components/UserHeader/UserHeader';\r\nimport UserBanner from '../../components/UserBanner/UserBanner';\r\n\r\nclass IndividualUser extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            url: \"https://quiet-ravine-27369.herokuapp.com\",\r\n            data: {},\r\n            photos: [],\r\n        }\r\n        \r\n    }\r\n        componentDidMount() {\r\n            this.getAuthorInfo(this.props.author);\r\n            this.getAuthorPhotos(this.props.author)\r\n        }\r\n\r\n        getAuthorInfo = (id) => {\r\n            const url = `${this.state.url}/users/${this.props.author}`\r\n            fetch(url)\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                this.setState({data: data})\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error:', error);\r\n            });\r\n        } \r\n\r\n        getAuthorPhotos = (id) => {\r\n            const url = `${this.state.url}/photos/author/${this.props.author}`\r\n            fetch(url)\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                this.setState({photos: data})\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error:', error);\r\n            });\r\n        }\r\n        render() {\r\n            const token = window.sessionStorage.getItem('token');\r\n            const authorId = window.sessionStorage.getItem('authorId');\r\n    \r\n            return (\r\n                <Fade\r\n                    in\r\n                    delay={0} \r\n                    exitOpacity={0.1}\r\n                    timingFn='ease-in-out' \r\n                    duration={300}>\r\n                    {token && authorId ?  <UserHeader updatePhotos={this.updatePhotos} /> : <HomeHeader updatePhotos={this.updatePhotos} />}\r\n                    <Hero />\r\n                    <UserBanner author={this.state.data} />\r\n                    {this.state.isLoading ? <Loader /> :<Photo photos={this.state.photos} />}\r\n                </Fade>\r\n        )\r\n    }\r\n}\r\n\r\nexport default IndividualUser;","import React, { Component } from 'react';\r\nimport { Fade } from 'react-animation-components';\r\nimport UserHeader from '../../components/UserHeader/UserHeader';\r\nimport Hero from '../../components/Hero/Hero';\r\nimport HomeHeader from '../../components/HomeHeader/HomeHeader';\r\nimport Photo from '../../components/PhotoComponent/PhotoComponent';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport CategoryHeader from '../../components/CategoryHeader/CategoryHeader';\r\n\r\nexport default class User extends Component {\r\n    state = {\r\n        photos: [],\r\n        updatePhotos: false,\r\n        url: \"https://quiet-ravine-27369.herokuapp.com\"\r\n    }\r\n\r\n    componentDidMount() {\r\n       this.fetchPhotos()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(this.state.updatePhotos) {\r\n            this.fetchPhotos();\r\n        }\r\n    }\r\n\r\n    updatePhotos = () => {\r\n        this.setState({updatePhotos: true})\r\n    }\r\n\r\n    fetchPhotos = () => {\r\n        const url = this.state.url + \"/photos\"\r\n        fetch(url)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            this.setState({photos: data, updatePhotos: false})\r\n    })\r\n    .catch(err => console.log(err))\r\n    }\r\n\r\n    render() {\r\n        const token = window.sessionStorage.getItem('token');\r\n        const authorId = window.sessionStorage.getItem('authorId');\r\n\r\n        return (\r\n            <Fade\r\n                in\r\n                delay={0} \r\n                exitOpacity={0.1}\r\n                timingFn='ease-in-out' \r\n                duration={100}>\r\n                {token && authorId ?  <UserHeader updatePhotos={this.updatePhotos} /> : <HomeHeader updatePhotos={this.updatePhotos} />}\r\n                <Hero />\r\n                <CategoryHeader />\r\n                {this.state.isLoading ? <Loader /> : <Photo updatePhotos={this.updatePhotos} photos={this.state.photos} />}\r\n            </Fade>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './ProfileToggle.scss';\r\n\r\nclass ProfileToggle extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            togglePosted: true,\r\n            toggleLiked: false,\r\n            // url: 'http://localhost:3000',\r\n            url: 'https://quiet-ravine-27369.herokuapp.com',\r\n            data: {},\r\n            photos: [],\r\n            happy: true,\r\n        }\r\n    }\r\n\r\n    renderPhotos = () => {\r\n        if (this.props.toggle === 'posted') {\r\n            return (\r\n                <h1 className=\"heading\">Your Posted Photos</h1>\r\n            )\r\n        } else {\r\n            return (\r\n                <h1 className=\"heading\">Your Liked Photos</h1>\r\n            )\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.state)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"toggle\">\r\n                    <Link to={`/profile/${this.props.author._id}/posted`} className={this.props.toggle === 'posted' ? \"toggleButton post highlight\" : \"toggleButton post\"} >\r\n                        POSTED PHOTOS\r\n                    </Link>\r\n                    <Link to={`/profile/${this.props.author._id}/liked`} className={this.props.toggle === 'liked' ? \"toggleButton highlight\" : \"toggleButton post\"}>\r\n                        LIKED PHOTOS\r\n                    </Link>\r\n                </div>\r\n                {this.renderPhotos()}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileToggle;","import React from 'react';\r\nimport './UpdateProfileForm.scss';\r\n\r\nclass UpdateProfileForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            firstName: this.props.author.firstName,\r\n            lastName: this.props.author.lastName,\r\n            bio: this.props.author.bio,\r\n            userImage: this.props.author.userImage,\r\n            updatedPhoto: false,\r\n            url: \"https://quiet-ravine-27369.herokuapp.com\"\r\n        }\r\n    }\r\n\r\n    openWidget = event => {\r\n        event.preventDefault();\r\n        const myWidget = window.cloudinary.createUploadWidget({\r\n            cloudName: \"dcokaa0ia\",\r\n            uploadPreset: 'pixelUser'\r\n        }, (error, result) => {\r\n            if (result.event === \"success\") {\r\n                this.setState({\r\n                    updatedPhoto: true,\r\n                    userImage: result.info.url\r\n                })\r\n            }\r\n        });\r\n        myWidget.open();\r\n    };\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        const body = {\r\n            firstName: this.state.firstName,\r\n            lastName: this.state.lastName,\r\n            bio: this.state.bio,\r\n            userImage: this.state.userImage,\r\n        }\r\n        console.log(body)\r\n        const url = this.state.url + '/users/' + this.props.author._id\r\n        fetch(url, {\r\n            method: 'PUT', \r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Access-Control-Allow-Origin': '*'\r\n            },\r\n            body: JSON.stringify(body),\r\n            })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n            console.log('Success:', data);\r\n                this.props.closeForm()\r\n                this.props.updateAuthorInfo(body)\r\n            })\r\n            .catch((error) => {\r\n            console.error('Error:', error);\r\n            });\r\n        \r\n\r\n    }\r\n\r\n    handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const renderImage = (url) => {\r\n            return <img src={url} alt=\"\" />\r\n        };\r\n        return (\r\n            <React.Fragment>\r\n                <div onClick={this.props.closeForm} className=\"closeBar\"><i className=\"far fa-times-circle\"></i></div>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <h2>Update Profile</h2>\r\n                    <div className=\"splitInputs\">\r\n                        <div className=\"formGroup\">\r\n                        <label htmlFor=\"firstName\">First Name:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={this.state.firstName}\r\n                            onChange={this.handleInputChange}\r\n                            name=\"firstName\"\r\n                            id=\"firstName\"\r\n                            placeholder=\"First Name...\"\r\n                            required\r\n                        />\r\n                        </div>\r\n                        <div className=\"formGroup\">\r\n                        <label htmlFor=\"lastName\">Last Name:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"lastName\"\r\n                            name=\"lastName\"\r\n                            value={this.state.lastName}\r\n                            onChange={this.handleInputChange}\r\n                            placeholder=\"Last Name...\"\r\n                            required\r\n                        />\r\n                        </div>\r\n                    </div>\r\n                        <div className=\"formGroup\">\r\n                        <label htmlFor=\"bio\">Biography:</label>\r\n                        <textarea\r\n                            type=\"text\"\r\n                            id=\"bio\"\r\n                            name=\"bio\"\r\n                            maxLength=\"500\"\r\n                            value={this.state.bio}\r\n                            onChange={this.handleInputChange}\r\n                            className=\"textarea\"\r\n                            placeholder=\"Share some info about yourself (500 characters or less)...\"\r\n                        />\r\n                        </div>\r\n\r\n                    <div className=\"imageSample\">\r\n                        <button onClick={this.openWidget} type=\"button\" className=\"addPhoto-button\">{this.state.uploadImage ? <span>Image Uploaded</span> : \"Upload User Image\"}</button>\r\n                        <div className=\"imageSampleHolder\">{this.state.updatedPhoto ? renderImage(this.state.userImage) : renderImage(this.props.author.userImage)}</div>\r\n                    </div>\r\n                    <div className=\"formGroup\">\r\n                        <button type=\"submit\">Submit</button>\r\n                    </div>\r\n                </form>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UpdateProfileForm;","import React from 'react';\r\nimport moment from 'moment';\r\nimport './ProfileBanner.scss';\r\nimport UpdateProfileForm from '../UpdataProfileForm/UpdateProfileForm';\r\n\r\n\r\nclass UserBanner extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showForm: false,\r\n            updatedInfo: false,\r\n            firstName: '',\r\n            lastName: '',\r\n            bio: '',\r\n            userImage: '',\r\n        }\r\n    }\r\n\r\n    showForm = () => {\r\n        this.setState({ showForm: true });\r\n    }\r\n\r\n    closeForm = () => {\r\n        this.setState({ showForm: false });\r\n    }\r\n\r\n    updateAuthorInfo = (data) => {\r\n        this.setState({\r\n            updatedInfo: true,\r\n            firstName: data.firstName,\r\n            lastName: data.lastName,\r\n            bio: data.bio,\r\n            userImage: data.userImage,\r\n        })\r\n    }\r\n\r\n    renderForm = () => {\r\n        return (\r\n            <div className=\"formContainer\">\r\n                <UpdateProfileForm updateAuthorInfo={this.updateAuthorInfo} closeForm={this.closeForm} author={this.props.author} />\r\n            </div>\r\n        )\r\n    }\r\n    render() {\r\n        const RenderBio = (props) => {\r\n            return (\r\n                <div className=\"bioContainer\">\r\n                    <h2 className=\"biography\">Biography</h2>\r\n                    <p>{props.bio}</p>\r\n                </div>\r\n            )\r\n        }\r\n        if(this.state.updatedInfo) {\r\n            const { firstName, lastName, userImage, bio } = this.state;\r\n            const { createdAt } = this.props.author; \r\n            return (\r\n                <div className=\"banner\">\r\n                    <div onClick={this.showForm}className=\"editButton\">Edit Profile<i className=\"fas fa-pencil-alt\"></i></div>\r\n                    <div className=\"bannerGrid\">\r\n                        <div className=\"userBanner\">\r\n                            <img src={userImage} alt={`${firstName}`} />\r\n                            <div className=\"authorName\">\r\n                                <h2>{firstName} {lastName}</h2>\r\n                                <p>Joined: {moment(new Date(createdAt)).format(\"MMMM Do, YYYY\")}</p>\r\n                            </div>\r\n                        </div>\r\n                        {bio ? <RenderBio bio={bio}/> : null}\r\n                    </div>\r\n                    {this.state.showForm ? this.renderForm() : null}\r\n                </div>\r\n            )\r\n        } else {\r\n            const { firstName, lastName, userImage, createdAt, bio } = this.props.author;\r\n            return (\r\n                <div className=\"banner\">\r\n                    <div onClick={this.showForm}className=\"editButton\">Edit Profile<i className=\"fas fa-pencil-alt\"></i></div>\r\n                    <div className=\"bannerGrid\">\r\n                        <div className=\"userBanner\">\r\n                            <img src={userImage} alt={`${firstName}`} />\r\n                            <div className=\"authorName\">\r\n                                <h2>{firstName} {lastName}</h2>\r\n                                <p>Joined: {moment(new Date(createdAt)).format(\"MMMM Do, YYYY\")}</p>\r\n                            </div>\r\n                        </div>\r\n                        {bio ? <RenderBio bio={bio} /> : null}\r\n                    </div>\r\n                    {this.state.showForm ? this.renderForm() : null}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default UserBanner;","import React from 'react';\r\nimport { Fade } from 'react-animation-components';\r\nimport UserHeader from '../../components/UserHeader/UserHeader';\r\nimport HomeHeader from '../../components/HomeHeader/HomeHeader';\r\nimport Photo from '../../components/PhotoComponent/PhotoComponent';\r\nimport Hero from '../../components/Hero/Hero';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport ProfileToggle from '../../components/ProfileToggle/ProfileToggle';\r\nimport ProfileBanner from '../../components/ProfileBanner/ProfileBanner';\r\nimport './Profile.scss';\r\n\r\nclass Profile extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            url: \"https://quiet-ravine-27369.herokuapp.com\",\r\n            data: {},\r\n            photos: [],\r\n            photoDeleted: false,\r\n            showLiked: false,\r\n            showPosted: true,\r\n            isLiked: false,\r\n            isLoading: false, \r\n            update: false\r\n        }\r\n        \r\n    }\r\n    componentDidMount() {\r\n        this.getAuthorInfo();\r\n        if(this.state.showPosted) {\r\n            this.getAuthorPhotos();\r\n        } \r\n        if (this.state.showLiked) {\r\n            this.getLikedPhotos();\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(this.props.toggle === \"posted\" && this.props.toggle !== prevProps.toggle) {\r\n            this.getAuthorPhotos();\r\n        }\r\n        if(this.props.toggle === \"liked\" && this.props.toggle !== prevProps.toggle) {\r\n            this.getLikedPhotos();\r\n        }\r\n    }\r\n\r\n    getAuthorInfo = () => {\r\n        const url = `${this.state.url}/users/${this.props.author}`\r\n        fetch(url)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n            this.setState({data: data})\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error:', error);\r\n        });\r\n    } \r\n\r\n    getLikedPhotos = () => {\r\n        this.setState({isLoading: true, showLiked: true, showPosted: false})\r\n        const userId = window.sessionStorage.getItem('authorId');\r\n        const url = `${this.state.url}/users/${userId}/favorites`\r\n        fetch(url)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n            this.setState({isLiked: true, isLoading: false, photos: data, photoDeleted: false, showLiked: false, showPosted: false})\r\n        })\r\n        .catch((error) => {\r\n            this.setState({isLiked: true, photos: [], photoDeleted: false, showLiked: false, showPosted: false})\r\n            console.error('Error:', error);\r\n        });\r\n    }\r\n    \r\n    getAuthorPhotos = () => {\r\n        const url = `${this.state.url}/photos/author/${this.props.author}`\r\n        fetch(url)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n            this.setState({ isLiked: false, photos: data, update: false });\r\n        })\r\n        .catch((error) => {\r\n            this.setState({isLiked: false, photos: [], photoDeleted: false, showLiked: false, showPosted: false})\r\n            console.error('Error:', error);\r\n        });\r\n    }\r\n\r\n    togglePosted = () => {\r\n        this.setState({ showLiked: false, showPosted: true });\r\n    };\r\n\r\n    toggleFavorites = () => {\r\n        this.setState({ showLiked: true, showPosted: false });\r\n    }\r\n\r\n    updateAuthorPhotos = () => {\r\n        this.setState({ update: true })\r\n    }\r\n\r\n    updatePhotos = () => {\r\n        if(this.state.update) {\r\n            this.getAuthorPhotos();\r\n        }\r\n    }\r\n\r\n    render() {     \r\n        const token = window.sessionStorage.getItem('token');\r\n        const authorId = window.sessionStorage.getItem('authorId');\r\n\r\n        return(\r\n            <Fade\r\n                in\r\n                delay={0} \r\n                exitOpacity={0.1}\r\n                timingFn='ease-in-out' \r\n                duration={300}>\r\n                {token && authorId ?  <UserHeader updateAuthorPhotos={this.updateAuthorPhotos} /> : <HomeHeader updatePhotos={this.updatePhotos} />}\r\n                <Hero />\r\n                <ProfileBanner author={this.state.data} />\r\n                <ProfileToggle author={this.state.data} toggle={this.props.toggle} />\r\n                {this.state.isLoading ? <Loader /> : <Photo \r\n                                getLikedPhotos={this.getLikedPhotos} \r\n                                getAuthorPhotos={this.getAuthorPhotos} \r\n                                toggle={this.props.toggle} \r\n                                profile={true} \r\n                                isLiked={this.state.isLiked} \r\n                                photos={this.state.photos} />}\r\n                {this.updatePhotos()}\r\n            </Fade>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Profile;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport './Comment.scss';\r\n\r\nclass Comment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            likes: this.props.comment.likes,\r\n            dislikes: this.props.comment.dislikes,\r\n            text: this.props.comment.text,\r\n            liked: false,\r\n            disliked: false,\r\n            url: 'https://quiet-ravine-27369.herokuapp.com',\r\n\r\n        }\r\n        this.handleLike = this.handleLike.bind(this);\r\n        this.handleDislike = this.handleDislike.bind(this);\r\n\r\n    }\r\n\r\n    handleLike() {\r\n        this.setState({ liked: !this.state.liked})\r\n        if(!this.state.liked) {\r\n            this.incrementLikes();\r\n        } else {\r\n            this.decrementLikes();\r\n        }\r\n    }\r\n\r\n    handleDislike() {\r\n        this.setState({ disliked: !this.state.disliked})\r\n        if(!this.state.disliked) {\r\n            this.incrementDislikes();\r\n        } else {\r\n            this.decrementDislikes();\r\n        }\r\n    }\r\n\r\n    updateData() {\r\n        const body = {\r\n            likes: this.state.likes,\r\n            dislikes: this.state.dislikes,\r\n            text: this.state.text,\r\n        }\r\n        const url = `${this.state.url}/photos/${this.props.photoId}/comments/${this.props.comment._id}`;\r\n        fetch(url, {\r\n            method: 'PUT', \r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Access-Control-Allow-Origin': '*'\r\n            },\r\n            body: JSON.stringify(body),\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    incrementLikes() {\r\n        this.setState({ likes: this.state.likes + 1 })\r\n        this.updateData();\r\n    }\r\n\r\n    decrementLikes() {\r\n        this.setState({ likes: this.state.likes - 1 })\r\n        this.updateData();\r\n    }\r\n\r\n    incrementDislikes() {\r\n        this.setState({ dislikes: this.state.dislikes + 1 })\r\n        this.updateData();\r\n    }\r\n\r\n    decrementDislikes() {\r\n        this.setState({ dislikes: this.state.dislikes - 1 })\r\n        this.updateData();\r\n    }\r\n\r\n    render() {\r\n        const { comment } = this.props;\r\n        return (\r\n            <div className=\"singleComment\">\r\n                <div className=\"authorPhoto\">\r\n                    <Link to={`/author/${comment.author._id}`}>\r\n                        <img src={comment.author.userImage} alt={comment.author.firstName} />\r\n                    </Link>\r\n                </div>\r\n                <div className=\"commentText\">\r\n                    <Link to={`/author/${comment.author._id}`}>\r\n                        <small>{`${comment.author.firstName} ${comment.author.lastName} | ${moment(new Date(comment.createdAt), \"YYYYMMDD\").fromNow()}`}</small>\r\n                    </Link>\r\n                    <p>{comment.text}</p>\r\n                    <div className=\"statusBar\">\r\n                            <i onClick={this.handleLike} className={ this.state.liked ? \"fas fa-thumbs-up\" : \"far fa-thumbs-up\"}></i><p>{this.state.likes}</p>\r\n                            <i onClick={this.handleDislike} className={ this.state.disliked ? \"fas fa-thumbs-down\" : \"far fa-thumbs-down\"}></i><p>{this.state.dislikes}</p>\r\n                        <small>Reply</small>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Comment\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport Comment from '../Comment/Comment';\r\nimport Toast from '../Toast/Toast';\r\nimport './CommentsBar.scss';\r\n\r\nclass CommentsBar extends React.Component {\r\n    constructor(props) {\r\n        super(props) \r\n        this.state = {\r\n            url: 'https://quiet-ravine-27369.herokuapp.com',\r\n            commentsData: [],\r\n            comment: '',\r\n            error: '',\r\n            showToast: false,\r\n        }\r\n    }\r\n\r\n    handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    getComments = () => {\r\n        const url = `${this.state.url}/photos/${this.props.photo._id}/comments`\r\n        fetch(url)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n            this.setState({commentsData: data})\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error:', error);\r\n        });\r\n    }\r\n\r\n    RenderComments() {\r\n        if (this.state.commentsData.length > 0) {\r\n            const comments = this.state.commentsData.map(comment => {\r\n                return (\r\n                    <Comment photoId={this.props.photo._id} key={comment._id} comment={comment} />\r\n                )\r\n            })\r\n            return comments;\r\n        } else {\r\n            return (\r\n                <p className=\"noComment\">No Comments</p>\r\n            )\r\n        }\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.postComment()\r\n    }\r\n\r\n    postComment = (e) => {\r\n        const authorId = window.sessionStorage.getItem('authorId')\r\n        if (authorId) {\r\n            const url = this.state.url + '/photos/' + this.props.photo._id + '/comments'\r\n            const comment = {\r\n                text: this.state.comment,\r\n                author: authorId,\r\n                likes: 0,\r\n                dislikes: 0,\r\n            }\r\n            fetch(url, {\r\n                method: 'POST', \r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Access-Control-Allow-Origin': '*'\r\n                },\r\n                body: JSON.stringify(comment),\r\n            })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                this.setState({comment: ''}) \r\n                this.getComments();\r\n            })\r\n            .catch((error) => {\r\n            console.error('Error:', error);\r\n            });\r\n        } else {\r\n            this.setState({error: 'You must be signed in to post a comment', showToast: true})\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getComments();\r\n    }\r\n\r\n    render() {\r\n        const {photo} = this.props;\r\n        return(\r\n            <div className=\"commentsGrid\">\r\n            {this.state.showToast ? <Toast message=\"Sign in to post a comment\" /> : null }\r\n                <div className=\"authorName\">\r\n                    <Link to={`/author/${photo.author[0]._id}`}>\r\n                        <img src={photo.author[0].userImage} alt={photo.author[0].firstName} />\r\n                    </Link>\r\n                    <div className=\"name\">\r\n                        <Link to={`/author/${photo.author[0]._id}`}>\r\n                            <h3>{`${photo.author[0].firstName} ${photo.author[0].lastName}`}</h3>\r\n                        </Link>\r\n                        <p>Posted: {moment(new Date(photo.createdAt), \"YYYYMMDD\").fromNow()}</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"commentsHolder\">\r\n                    {this.RenderComments()}\r\n                </div>\r\n                <div className=\"addComment\">\r\n                    <form onSubmit={this.handleSubmit} id=\"addComment\">\r\n                        <input \r\n                            type=\"text\"\r\n                            name=\"comment\" \r\n                            required \r\n                            value={this.state.comment}\r\n                            onChange={this.handleInputChange}\r\n                            placeholder=\"Add a comment\" />\r\n                        <button>Submit</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CommentsBar;\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport Lottie from '../Lottie/Lottie';\r\nimport Toast from '../Toast/Toast';\r\nimport Loader from '../Loader/Loader';\r\nimport CommentsBar from '../../components/CommentsBar/CommentsBar';\r\nimport './SinglePhoto.scss';\r\n\r\n\r\nclass SinglePhoto extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            url: 'https://quiet-ravine-27369.herokuapp.com',\r\n            photo: [],\r\n            isLoading: true,\r\n            playLottie: false,\r\n            updateLikes: false,\r\n            likes: 0,\r\n        }\r\n    }\r\n\r\n    setStorage = (id) => {\r\n        window.localStorage.setItem('likedPhotos', JSON.stringify([id]))\r\n    }\r\n\r\n    incrementLikes = (id) => {\r\n        this.setState({ showToast: false })\r\n        const storageData = JSON.parse(window.localStorage.getItem('likedPhotos')) || '';\r\n        if(!storageData.includes(id)) {\r\n            const url = this.state.url + `/photos/${id}`;\r\n            fetch(url, {\r\n            method: 'PUT', \r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\"_id\": id})\r\n            })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                this.setStorage(id); \r\n                this.setState({updateLikes: true, playLottie: true, likes: this.state.likes + 1})\r\n                this.props.updatePhotos();\r\n                this.addToFavorites(id)\r\n            })\r\n            .catch((error) => {\r\n            \r\n            });\r\n        } else {\r\n            this.setState({ showToast: true })\r\n        }\r\n    }\r\n\r\n    addToFavorites = (id) => {\r\n        const userId = window.sessionStorage.getItem('authorId');\r\n        const url = this.state.url + `/users/${userId}/favorites`;\r\n        if (userId) {\r\n            fetch(url, {\r\n                method: 'POST', \r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\"_id\": id})\r\n                })\r\n                .then((response) => response.json())\r\n                .then((data) => {\r\n                    console.log(data)\r\n                })\r\n                .catch((error) => {\r\n                console.error('Error:', error);\r\n                });\r\n        } else {\r\n            console.log('You are not logged in')\r\n        }\r\n        \r\n    }\r\n\r\n    goBack = () => {\r\n        const { history } = this.props;\r\n        if(history) history.goBack();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getPhoto();\r\n    }\r\n\r\n    getPhoto = () => {\r\n        const url = this.state.url + \"/photos/\" + this.props.photo\r\n        fetch(url)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if (!data) {\r\n                this.setState({photo: []})\r\n            } else {\r\n                this.setState({photo: data, isLoading: false, likes: data.likes})\r\n            }\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    render() {\r\n        const RenderDescription = () => {\r\n            return (\r\n                <div id=\"view\">\r\n                    <p>{this.state.photo.description}</p>\r\n                </div>\r\n            )\r\n        }\r\n        if(this.state.isLoading) {\r\n            return (\r\n                <Loader />\r\n            )\r\n        } else {\r\n            return (\r\n                <React.Fragment>\r\n                    {this.state.showToast ? <Toast message=\"You already liked this photo\" /> : null}\r\n                    <div id=\"singlePhoto\" className=\"singlePhoto\">                    \r\n                        <div onClick={this.goBack} className=\"closeSinglePhoto\"><i className=\"far fa-times-circle\"></i></div>\r\n                        <div id=\"photoGrid\" className=\"photoGrid\">\r\n                            <div id=\"photo\" className=\"photo\">\r\n                                {this.state.photo.description ? <RenderDescription /> : null}\r\n                                <img alt=\"\" data-id={this.state.photo._id} className=\"image\" width=\"200\" height=\"200\" src={this.state.photo.imageUrl} />\r\n                                <div id=\"category\">\r\n                                    <p>{this.state.photo.category}</p>\r\n                                    <div onClick={this.incrementLikes.bind(null, this.state.photo._id)} className=\"likes\"><p>{this.state.likes}</p><i className=\"far fa-heart\"></i></div>\r\n                                </div>\r\n                                <Link id=\"author\" to={`/author/${this.state.photo.author[0]._id}`} >\r\n                                    <Lottie play={this.state.playLottie}/>\r\n                                    {/* <img alt=\"\" src={this.state.photo.author[0].userImage} />\r\n                                    <p>{this.state.photo.author[0].firstName} {this.state.photo.author[0].lastName}</p> */}\r\n                                </Link>\r\n                            </div>\r\n                            <CommentsBar photo={this.state.photo} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"singlePhotoPage\"></div>\r\n                </React.Fragment>\r\n\r\n            )   \r\n        }\r\n            \r\n    }; \r\n}\r\n\r\nexport default withRouter(SinglePhoto);\r\n","import React, { Component } from 'react';\r\nimport SinglePhoto from '../../components/SinglePhoto/SinglePhoto';\r\nimport { Fade } from 'react-animation-components';\r\nimport './SinglePhotoPage.scss';\r\n\r\nclass SinglePhotoPage extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            photos: [],\r\n            updatePhotos: false,\r\n        }\r\n    }\r\n        componentDidMount() {\r\n            this.getPhotos();\r\n        }\r\n    \r\n        componentDidUpdate() {\r\n            if(this.state.updatePhotos) {\r\n                this.getPhotos();\r\n                this.setState({updatePhotos: false});\r\n            }\r\n        }\r\n    \r\n        updatePhotos = () => {\r\n            this.setState({updatePhotos: true})\r\n        }\r\n    \r\n        getPhotos = () => {\r\n            const url = \"https://quiet-ravine-27369.herokuapp.com\"\r\n\r\n            fetch(url)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                this.setState({photos: data, updatePhotos: false})\r\n            })\r\n            .catch(err => console.log(err))\r\n        }\r\n\r\n    render() {\r\n    \r\n            return(\r\n                <Fade\r\n                    in\r\n                    delay={0} \r\n                    exitOpacity={0.1}\r\n                    timingFn='ease-in-out' \r\n                    duration={100}>\r\n                    <SinglePhoto updatePhotos={this.updatePhotos}  photo={this.props.photo} />\r\n                    <div className=\"background\"></div>\r\n                    <div className=\"backgroundOverlay\"></div>\r\n                </Fade>\r\n            )\r\n    }; \r\n}\r\n\r\nexport default SinglePhotoPage;\r\n","import React from 'react';\r\nimport { Fade } from 'react-animation-components';\r\nimport UserHeader from '../../components/UserHeader/UserHeader';\r\nimport HomeHeader from '../../components/HomeHeader/HomeHeader';\r\nimport Photo from '../../components/PhotoComponent/PhotoComponent';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport CategoryHeader from '../../components/CategoryHeader/CategoryHeader';\r\nimport Hero from '../../components/Hero/Hero';\r\nimport './Search.scss';\r\n\r\nclass Search extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            url: \"https://quiet-ravine-27369.herokuapp.com\",\r\n            photos: [],\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        console.log(this.props.location)\r\n        this.searchQuery()\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(this.props.query !== prevProps.query) {\r\n            this.searchQuery();\r\n        }\r\n    }\r\n\r\n    searchQuery() {\r\n        const url = `${this.state.url}/photos/search/${this.props.query}`\r\n        fetch(url)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n            this.setState({photos: data})\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error:', error);\r\n        });\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const token = window.sessionStorage.getItem('token');\r\n        const authorId = window.sessionStorage.getItem('authorId');\r\n\r\n        return (\r\n            <Fade\r\n                in\r\n                delay={0} \r\n                exitOpacity={0.1}\r\n                timingFn='ease-in-out' \r\n                duration={300}>\r\n                {token && authorId ?  <UserHeader updatePhotos={this.updatePhotos} /> : <HomeHeader updatePhotos={this.updatePhotos} />}\r\n                <Hero />\r\n                <CategoryHeader />\r\n                {this.state.isLoading ? <Loader /> : <Photo photos={this.state.photos} />}\r\n            </Fade>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Search;","import React from 'react';\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nimport Home from './pages/Home/Home';\nimport Signup from './pages/Signup/Signup';\nimport Login from './pages/Login/Login';\nimport Category from './pages/Category/Category';\nimport ErrorPage from './pages/ErrorPage/ErrorPage';\nimport IndividualUser from './pages/IndividualUser/IndividualUser';\nimport User from './pages/User/User';\nimport Profile from './pages/Profile/Profile';\nimport SinglePhotoPage from './pages/SinglePhotoPage/SinglePhotoPage';\nimport Search from './pages/Search/Search';\nimport './App.scss';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props) \n      this.state = {\n        categories: ['scenic', 'architecture', 'animals', 'aerial', \"food\", \"portrait\", \"fashion\", \"activity\", \"art\"],\n      }\n\n    }\n  \n  render() {\n\n    const CategoryType = ({ match }) => {\n      return (\n        <Category category={match.params.category} /> \n        )\n    }\n\n    const PhotoPage = ({ match }) => {\n      return (\n        <SinglePhotoPage photo={match.params.photoId} />\n      )\n    }\n\n    const AuthorPage = ({ match }) => {\n      return (\n        <IndividualUser author={match.params.authorId} /> \n        )\n    }\n\n    const SearchPage = ({ match }) => {\n      return (\n        <Search query={match.params.query} /> \n        )\n    }\n\n    const ProfilePage = ({ match }) => {\n      return (\n        <Profile author={match.params.profileId} toggle={match.params.toggle} /> \n        )\n    }\n\n    return (\n      <div className=\"App\">\n          <HashRouter basename=\"/\">\n              <Switch>\n                  <Route exact path=\"/\" component={Home} />\n                  <Route path=\"/category/:category\" component={CategoryType} />} />\n                  <Route exact path=\"/signup\" component={Signup} />\n                  <Route exact path=\"/login\" component={Login} />\n                  <Route exact path=\"/user\" component={User} />\n                  <Route path=\"/photo/:photoId\" component={PhotoPage} />\n                  <Route path=\"/author/:authorId\" component={AuthorPage} />\n                  <Route path=\"/search/:query\" component={SearchPage} />\n                  <Route path=\"/profile/:profileId/:toggle\" component={ProfilePage} />\n                  <Route component={ErrorPage} />\n              </Switch>\n            </HashRouter>\n      </div>\n    );\n  }\n}\n\n\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}